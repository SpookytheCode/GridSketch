<!DOCTYPE html>
<html>
<head>
  <title>Let it Flow!</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="GSStyle.css">
</head>
<body>
  <div id="buttonWrap">
    <label for="gridSizeInput">Enter grid size:</label>
    <input type="text" id="gridSizeInput" name="gridSizeInput" value="16"> <br>
    <button type="button" id="gridSizeButton">Gridify</button>
  </div>
  <div id="wrapperDiv"></div>



  <script>

    let gridSides = document.getElementById('gridSizeInput').value;
    let gridSize = gridSides**2;
    let cols = gridSides;
    let rows = gridSides;



    let containerDiv = document.getElementById("wrapperDiv");
    

    
    function makeGrid (cols, rows) {
      gridSides = document.getElementById('gridSizeInput').value;
      cols = gridSides;
      rows = gridSides;
      gridSize = gridSides**2;
      containerDiv.style.setProperty('--gridRows', rows)
      containerDiv.style.setProperty('--gridCols', cols)
      for (i = gridSize; i > 0; i--) {
        let newDiv = document.createElement("div");
        newDiv.classList.add("gridSquare");
        containerDiv.appendChild(newDiv);
      }
      console.log(gridBoxArray);
    }

    let boxCollection = document.getElementsByClassName('gridSquare');
    let gridBoxArray = Array.from(boxCollection);    
    
    function mouseListenizer (item) {
      item.addEventListener('mouseover', function(event) {
        event.target.style.backgroundColor = "black";
      })
    }

    gridBoxArray.forEach(mouseListenizer);

    

    document.getElementById('gridSizeButton').addEventListener("click", makeGrid);


        
  </script>
</body>
</html>