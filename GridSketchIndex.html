<!DOCTYPE html>
<html>
<head>
  <title>Let it Flow!</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="GSStyle.css">
</head>
<body>
  <div id="buttonWrap">
    <label for="gridSizeInput">Enter grid size:</label>
    <input type="text" id="gridSizeInput" name="gridSizeInput" value="16"> <br>
    <button type="button" id="gridSizeButton">Gridify</button>
  </div>
  <div id="wrapperDiv"></div>



  <script>

    let gridSides = document.getElementById('gridSizeInput').value;
    let gridSize = gridSides**2;
    let cols = gridSides;
    let rows = gridSides;



    let containerDiv = document.getElementById("wrapperDiv");
    
    let gridBoxArray;
    let boxCollection;
    
    function makeGrid (cols, rows) {
      gridSides = document.getElementById('gridSizeInput').value;
      cols = gridSides;
      rows = gridSides;
      gridSize = gridSides**2;
      containerDiv.style.setProperty('--gridRows', rows)
      containerDiv.style.setProperty('--gridCols', cols)
      for (i = gridSize; i > 0; i--) {
        let newDiv = document.createElement("div");
        newDiv.classList.add("gridSquare");
        containerDiv.appendChild(newDiv);
      }
      gridSquareListenerInit();
    }

    function gridSquareListenerInit() {
      boxCollection = document.getElementsByClassName('gridSquare');
      gridBoxArray = Array.from(boxCollection);
      for (let i = 0; i < gridSize; i++) {
        gridBoxArray[i].addEventListener("mouseenter", function() {
          gridBoxArray[i].classList.add('colorSquare');
        });
      }
    }

    function gridWiper() {
      document.getElementById('wrapperDiv').innerHTML = "";
    }

    function cleanStart() {
      gridWiper();
      makeGrid();
    }


    document.getElementById('gridSizeButton').addEventListener("click", cleanStart);


        
  </script>
</body>
</html>